<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="Vue å®è·µå°ç»“(é•¿æœŸæ›´æ–°)"><meta name="keywords" content="vue"><meta name="author" content="Rao Jinwei,undefined"><meta name="copyright" content="Rao Jinwei"><title>Vue å®è·µå°ç»“(é•¿æœŸæ›´æ–°) | Rao Jinwei's Blog</title><link rel="shortcut icon" href="/sl.ico"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.min.css?version=1.4.2"><script>var GLOBAL = { 
  root: '/',
  algolia: undefined,
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  localSearch: undefined
} </script></head><body><canvas class="fireworks"></canvas><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar"><div class="toggle-sidebar-info text-center"><span data-toggle="åˆ‡æ¢æ–‡ç« è¯¦æƒ…">åˆ‡æ¢ç«™ç‚¹æ¦‚è§ˆ</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">ç›®å½•</div><div class="sidebar-toc__progress"><span class="progress-notice">ä½ å·²ç»è¯»äº†</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#å‰è¨€"><span class="toc-number">1.</span> <span class="toc-text">å‰è¨€</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Vue"><span class="toc-number">2.</span> <span class="toc-text">Vue</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#å­ç»„ä»¶æ”¹å˜-props-çš„æ–¹æ³•"><span class="toc-number">2.1.</span> <span class="toc-text">å­ç»„ä»¶æ”¹å˜ props çš„æ–¹æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å¦‚ä½•åœ¨-vue-ç»„ä»¶ä¸­ç»‘å®šåŸç”Ÿç‚¹å‡»äº‹ä»¶ï¼Ÿ"><span class="toc-number">2.2.</span> <span class="toc-text">å¦‚ä½•åœ¨ vue ç»„ä»¶ä¸­ç»‘å®šåŸç”Ÿç‚¹å‡»äº‹ä»¶ï¼Ÿ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ä½¿ç”¨ç»„ä»¶æ—¶å¦‚ä½•åŠ è¡Œå†…-syle"><span class="toc-number">2.3.</span> <span class="toc-text">ä½¿ç”¨ç»„ä»¶æ—¶å¦‚ä½•åŠ è¡Œå†… syle</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å…³äº-v-model"><span class="toc-number">2.4.</span> <span class="toc-text">å…³äº v-model</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#render-å‡½æ•°é‡Œå¦‚ä½•ç”¨ç»„ä»¶çš„-v-model"><span class="toc-number">2.5.</span> <span class="toc-text">render å‡½æ•°é‡Œå¦‚ä½•ç”¨ç»„ä»¶çš„ v-model</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Transition-ç»„ä»¶-mode"><span class="toc-number">2.6.</span> <span class="toc-text">Transition ç»„ä»¶ mode</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#data-å±æ€§ä¸è¢«ä»£ç†çš„æ–¹æ³•"><span class="toc-number">2.7.</span> <span class="toc-text">data å±æ€§ä¸è¢«ä»£ç†çš„æ–¹æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#cli3-ä¼ é€’å…¨å±€-scss-å˜é‡å°å‘"><span class="toc-number">2.8.</span> <span class="toc-text">cli3 ä¼ é€’å…¨å±€ scss å˜é‡å°å‘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#watch-è·¯ç”±ä¸­å¤ç”¨çš„ç»„ä»¶çš„å±æ€§"><span class="toc-number">2.9.</span> <span class="toc-text">watch è·¯ç”±ä¸­å¤ç”¨çš„ç»„ä»¶çš„å±æ€§</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#çˆ¶ç»„ä»¶è°ƒç”¨å­ç»„ä»¶æ–¹æ³•"><span class="toc-number">2.10.</span> <span class="toc-text">çˆ¶ç»„ä»¶è°ƒç”¨å­ç»„ä»¶æ–¹æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å…³äºæ•°ç»„å’Œå¯¹è±¡æ•°æ®æ›´æ–°è§†å›¾ä¸æ›´æ–°é—®é¢˜"><span class="toc-number">2.11.</span> <span class="toc-text">å…³äºæ•°ç»„å’Œå¯¹è±¡æ•°æ®æ›´æ–°è§†å›¾ä¸æ›´æ–°é—®é¢˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#iview-ç„ç‚¹ç»„ä»¶æ³¨æ„çš„é—®é¢˜"><span class="toc-number">2.12.</span> <span class="toc-text">iview ç„ç‚¹ç»„ä»¶æ³¨æ„çš„é—®é¢˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å¦‚ä½•åˆ©ç”¨-mountæŒ‚è½½å®ä¾‹-ç»„ä»¶"><span class="toc-number">2.13.</span> <span class="toc-text">å¦‚ä½•åˆ©ç”¨$mountæŒ‚è½½å®ä¾‹(ç»„ä»¶)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Vue-router"><span class="toc-number">3.</span> <span class="toc-text">Vue-router</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#beforeEach-è·¯ç”±å®ˆå«è¯¥æ³¨æ„çš„"><span class="toc-number">3.1.</span> <span class="toc-text">beforeEach è·¯ç”±å®ˆå«è¯¥æ³¨æ„çš„</span></a></li></ol></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="https://avatars1.githubusercontent.com/u/23609695?s=400&amp;u=d2db8f6efdee5add420addf7f89b916f7ef47ca7&amp;v=4"></div><div class="author-info__name text-center">Rao Jinwei</div><div class="author-info__description text-center">è¿½å¯»ç”Ÿæ´»çš„å½±å­</div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">æ–‡ç« </span><span class="pull-right">13</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">æ ‡ç­¾</span><span class="pull-right">15</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">åˆ†ç±»</span><span class="pull-right">10</span></a></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(http://pic1.win4000.com/wallpaper/7/59bb35a6c903f.jpg)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">Rao Jinwei's Blog</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus"><a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a></span></div><div id="post-info"><div id="post-title">Vue å®è·µå°ç»“(é•¿æœŸæ›´æ–°)</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2018-11-04</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/vue/">vue</a></div></div></div><div class="layout" id="content-inner"><article id="post"><div id="post-content"><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>è¿‘æœŸéƒ½åœ¨ç”¨ Vue å…¨å®¶æ¡¶è¿›è¡Œé¡¹ç›®å¼€å‘ï¼Œè¿‡ç¨‹ä¸­éš¾å…ä¼šé‡åˆ°ä¸å°‘é—®é¢˜ï¼Œè¿™ç¯‡åšå®¢ä¸»è¦å°±æ˜¯è®°å½•å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜ï¼Œå’Œæ¯ä¸ªé—®é¢˜å¯¹åº”çš„è§£å†³æ–¹æ¡ˆã€‚æ­¤å¤–ï¼ŒVue æ¡†æ¶å’Œå‘¨è¾¹ç”Ÿæ€ä¼šä¸€ç›´æ›´æ–°ï¼Œä»¥åŠå‘å¸ƒæ–°åŠŸèƒ½ï¼Œåœ¨å®è·µè¿‡ç¨‹ä¸­æ€»ä¼šé‡åˆ°ä¸€äº›æ‰€è°“çš„â€œå‘â€ï¼Œæˆ‘ä¹Ÿä¼šæŠŠå¡«å‘è¿‡ç¨‹è®°å½•äºæ­¤ã€‚å‘æ˜¯å¡«ä¸å®Œçš„ï¼Œè¿™ç¯‡åšå®¢ä¹Ÿæ˜¯å†™ä¸å®Œçš„ã€‚ğŸ™‚</p>
<a id="more"></a>
<h2 id="Vue"><a href="#Vue" class="headerlink" title="Vue"></a>Vue</h2><h3 id="å­ç»„ä»¶æ”¹å˜-props-çš„æ–¹æ³•"><a href="#å­ç»„ä»¶æ”¹å˜-props-çš„æ–¹æ³•" class="headerlink" title="å­ç»„ä»¶æ”¹å˜ props çš„æ–¹æ³•"></a>å­ç»„ä»¶æ”¹å˜ props çš„æ–¹æ³•</h3><p>ç”±äº vue éµå¾ªå•å‘æ•°æ®æµï¼Œä¸å»ºè®®åœ¨å­ç»„ä»¶é‡Œé¢ç›´æ¥æ”¹å˜ props çš„å€¼ï¼Œä¸€èˆ¬é€šè¿‡ 2 ç§æ–¹æ³•</p>
<ul>
<li><p>é€šè¿‡<code>$emit</code>è°ƒç”¨çˆ¶ç»„ä»¶äº‹ä»¶æ¥æ”¹å˜çˆ¶ç»„ä»¶ä¼ ç»™å­ç»„ä»¶çš„å€¼ï¼Œç„¶ååœ¨å­ç»„ä»¶é‡Œé¢<code>watch</code> props çš„å€¼ï¼ŒçŠ¶æ€å˜åŒ–æ—¶è§¦å‘ç›¸å…³ååº”</p>
</li>
<li><p>ç»™ props åŠ ä¸ªå¯¹è±¡å­—æ®µï¼Œå¦‚:</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">props: [<span class="string">'state'</span>],</div><div class="line"></div><div class="line">template: <span class="xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;state.someData.value&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></div><div class="line"></div><div class="line"><span class="comment">// æ”¹</span></div><div class="line">js: <span class="keyword">this</span>.state.someData.value = xxx; <span class="comment">// ç›´æ¥æ”¹å˜äº†çˆ¶ç»„ä»¶çš„dataå€¼</span></div></pre></td></tr></table></figure>
<h3 id="å¦‚ä½•åœ¨-vue-ç»„ä»¶ä¸­ç»‘å®šåŸç”Ÿç‚¹å‡»äº‹ä»¶ï¼Ÿ"><a href="#å¦‚ä½•åœ¨-vue-ç»„ä»¶ä¸­ç»‘å®šåŸç”Ÿç‚¹å‡»äº‹ä»¶ï¼Ÿ" class="headerlink" title="å¦‚ä½•åœ¨ vue ç»„ä»¶ä¸­ç»‘å®šåŸç”Ÿç‚¹å‡»äº‹ä»¶ï¼Ÿ"></a>å¦‚ä½•åœ¨ vue ç»„ä»¶ä¸­ç»‘å®šåŸç”Ÿç‚¹å‡»äº‹ä»¶ï¼Ÿ</h3><p>ä½¿ç”¨<code>.native</code>ä¿®é¥°ç¬¦ï¼Œè¿™æ ·åŸç”Ÿç‚¹å‡»äº‹ä»¶ä¼šç»‘å®šåˆ°è¯¥ç»„ä»¶çš„<code>$el</code>èŠ‚ç‚¹ä¸Š</p>
<p>ä¾‹å¦‚ä½¿ç”¨ iview æŸä¸ªç»„ä»¶</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">Card</span> @<span class="attr">click.native</span>=<span class="string">"handleClick"</span> /&gt;</span></div></pre></td></tr></table></figure>
<h3 id="ä½¿ç”¨ç»„ä»¶æ—¶å¦‚ä½•åŠ è¡Œå†…-syle"><a href="#ä½¿ç”¨ç»„ä»¶æ—¶å¦‚ä½•åŠ è¡Œå†…-syle" class="headerlink" title="ä½¿ç”¨ç»„ä»¶æ—¶å¦‚ä½•åŠ è¡Œå†… syle"></a>ä½¿ç”¨ç»„ä»¶æ—¶å¦‚ä½•åŠ è¡Œå†… syle</h3><p>åœ¨ä½¿ç”¨ vue ç»„ä»¶æ—¶ï¼Œå¦‚æœæƒ³ç»™è¯¥ç»„ä»¶åŠ ä¸ªè¡Œå†… styleï¼Œéœ€è¦<code>:style=&quot;{}&quot;</code>è¿™ç§å†™æ³•ï¼Œç›´æ¥å†™ style ä¸ä¼šç”Ÿæ•ˆï¼Œclass åˆ™å¯ä»¥</p>
<h3 id="å…³äº-v-model"><a href="#å…³äº-v-model" class="headerlink" title="å…³äº v-model"></a>å…³äº v-model</h3><blockquote>
<p><code>v-model</code> æ˜¯ <code>v-bind:value</code> å’Œ <code>v-on:input</code> å’Œè¯­æ³•ç³–</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model</span>=<span class="string">"value"</span> <span class="attr">type</span>=<span class="string">"text"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">:value</span>=<span class="string">"value"</span> <span class="attr">type</span>=<span class="string">"text"</span> @<span class="attr">input</span>=<span class="string">"value = $event.target.value"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">custom-input</span> <span class="attr">v-model</span>=<span class="string">"value"</span>/&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>å…¶ä¸­ï¼Œcustom-input çš„å†™æ³•</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">Vue.component(<span class="string">"custom-input"</span>, &#123;</div><div class="line">  props: [<span class="string">"value"</span>],</div><div class="line">  template: <span class="string">`</span></div><div class="line"><span class="string">    &lt;input</span></div><div class="line"><span class="string">      :value="value"</span></div><div class="line"><span class="string">      @input="$emit('input', $event.target.value)"</span></div><div class="line"><span class="string">    &gt;</span></div><div class="line"><span class="string">  `</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="render-å‡½æ•°é‡Œå¦‚ä½•ç”¨ç»„ä»¶çš„-v-model"><a href="#render-å‡½æ•°é‡Œå¦‚ä½•ç”¨ç»„ä»¶çš„-v-model" class="headerlink" title="render å‡½æ•°é‡Œå¦‚ä½•ç”¨ç»„ä»¶çš„ v-model"></a>render å‡½æ•°é‡Œå¦‚ä½•ç”¨ç»„ä»¶çš„ v-model</h3><p>ç”¨ iview ä¸­ Poptip ç»„ä»¶ä¸¾ä¾‹ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">Poptip</span> <span class="attr">v-model</span>=<span class="string">"visible"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">a</span>&gt;</span>Click<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">slot</span>=<span class="string">"title"</span>&gt;</span>Custom title<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">slot</span>=<span class="string">"content"</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">a</span> @<span class="attr">click</span>=<span class="string">"close"</span>&gt;</span>close<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">Poptip</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></div><div class="line"><span class="undefined">  data () &#123;</span></div><div class="line"><span class="javascript">    <span class="keyword">return</span> &#123;</span></div><div class="line"><span class="javascript">      visible: <span class="literal">false</span></span></div><div class="line"><span class="undefined">    &#125;</span></div><div class="line"><span class="undefined">  &#125;,</span></div><div class="line"><span class="undefined">  methods: &#123;</span></div><div class="line"><span class="undefined">    close () &#123;</span></div><div class="line"><span class="javascript">      <span class="keyword">this</span>.visible = <span class="literal">false</span>;</span></div><div class="line"><span class="undefined">    &#125;</span></div><div class="line"><span class="undefined">  &#125;</span></div><div class="line"><span class="undefined">&#125;</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<p>ç”¨ render å‡½æ•°æ–¹æ³•è°ƒç”¨è¯¥ç»„ä»¶</p>
<p>æ ¸å¿ƒå°±æ˜¯æŠŠ v-model æ‹†æˆ value å’Œ input çš„å†™æ³•</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</div><div class="line">  name: <span class="string">"RenderPoptip"</span>,</div><div class="line">  data() &#123;</div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">      visible: <span class="literal">false</span></div><div class="line">    &#125;;</div><div class="line">  &#125;,</div><div class="line">  methods: &#123;</div><div class="line">    close() &#123;</div><div class="line">      <span class="keyword">this</span>.visible = <span class="literal">false</span>;</div><div class="line">    &#125;</div><div class="line">  &#125;,</div><div class="line">  render(h) &#123;</div><div class="line">    <span class="keyword">const</span> vm = <span class="keyword">this</span>;</div><div class="line">    <span class="keyword">return</span>;</div><div class="line">    h(</div><div class="line">      <span class="string">"Poptip"</span>,</div><div class="line">      &#123;</div><div class="line">        props: &#123;</div><div class="line">          value: vm.visible</div><div class="line">        &#125;,</div><div class="line">        on: &#123;</div><div class="line">          input: <span class="function"><span class="params">e</span> =&gt;</span> &#123;</div><div class="line">            <span class="keyword">this</span>.visible = e;</div><div class="line">          &#125;</div><div class="line">        &#125;,</div><div class="line">        ref: <span class="string">"poptip"</span></div><div class="line">      &#125;,</div><div class="line">      [</div><div class="line">        h(<span class="string">"a"</span>, <span class="string">"click"</span>),</div><div class="line">        h(</div><div class="line">          <span class="string">"div"</span>,</div><div class="line">          &#123;</div><div class="line">            slot: <span class="string">"title"</span></div><div class="line">          &#125;,</div><div class="line">          <span class="string">"Custom title"</span></div><div class="line">        ),</div><div class="line">        h(<span class="string">"div"</span>, [</div><div class="line">          h(</div><div class="line">            <span class="string">"a"</span>,</div><div class="line">            &#123;</div><div class="line">              slot: <span class="string">"content"</span>,</div><div class="line">              on: &#123;</div><div class="line">                click: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">                  <span class="keyword">this</span>.close();</div><div class="line">                &#125;</div><div class="line">              &#125;</div><div class="line">            &#125;,</div><div class="line">            <span class="string">"å…³é—­"</span></div><div class="line">          )</div><div class="line">        ])</div><div class="line">      ]</div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>åœ¨ iview çš„ä¸€äº›ç»„ä»¶ä¸­ï¼Œåªæä¾› render å‡½æ•°ç»™æˆ‘ä»¬æ¸²æŸ“å†…éƒ¨çš„å†…å®¹ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥ç”¨ä»¥ä¸Šæ–¹æ³•æ¸²æŸ“ iview çš„å…¶å®ƒç»„ä»¶</p>
<p>template æ¨¡æ¿å†™æ³•å’Œ render å†™æ³•æœ€ç»ˆéƒ½ä¼šæ¸²æŸ“æˆ<code>Vnode</code>ï¼Œç„¶åå†æŒ‚è½½åˆ° dom ä¸Šï¼Œåœ¨æœ‰äº›åœºæ™¯ä¸Šï¼Œä½¿ç”¨ render å†™æ³•æ›´ä¸ºæ¸…æ™°</p>
<h3 id="Transition-ç»„ä»¶-mode"><a href="#Transition-ç»„ä»¶-mode" class="headerlink" title="Transition ç»„ä»¶ mode"></a>Transition ç»„ä»¶ mode</h3><ul>
<li><p>in-outï¼šæ–°å…ƒç´ å…ˆè¿›è¡Œè¿‡æ¸¡ï¼Œå®Œæˆä¹‹åå½“å‰å…ƒç´ è¿‡æ¸¡ç¦»å¼€ã€‚</p>
</li>
<li><p>out-inï¼šå½“å‰å…ƒç´ å…ˆè¿›è¡Œè¿‡æ¸¡ï¼Œå®Œæˆä¹‹åæ–°å…ƒç´ è¿‡æ¸¡è¿›å…¥ã€‚</p>
</li>
</ul>
<h3 id="data-å±æ€§ä¸è¢«ä»£ç†çš„æ–¹æ³•"><a href="#data-å±æ€§ä¸è¢«ä»£ç†çš„æ–¹æ³•" class="headerlink" title="data å±æ€§ä¸è¢«ä»£ç†çš„æ–¹æ³•"></a>data å±æ€§ä¸è¢«ä»£ç†çš„æ–¹æ³•</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</div><div class="line">  data: &#123;</div><div class="line">    _app: <span class="string">""</span>,</div><div class="line">    $ppa: <span class="string">""</span></div><div class="line">  &#125;</div><div class="line">&#125;);</div><div class="line"><span class="comment">// ä»¥ä¸Š_app,$ppaéƒ½ä¸ä¼šè¢«ä»£ç†ï¼Œåªè¦åŠ äº†_å’Œ$å¼€å¤´çš„å±æ€§éƒ½ä¸ä¼šè¢«vueä»£ç†</span></div><div class="line"><span class="comment">// this._app å’Œ this.$ppaçš†ä¸å­˜åœ¨</span></div></pre></td></tr></table></figure>
<h3 id="cli3-ä¼ é€’å…¨å±€-scss-å˜é‡å°å‘"><a href="#cli3-ä¼ é€’å…¨å±€-scss-å˜é‡å°å‘" class="headerlink" title="cli3 ä¼ é€’å…¨å±€ scss å˜é‡å°å‘"></a>cli3 ä¼ é€’å…¨å±€ scss å˜é‡å°å‘</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// vue.config.js</span></div><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">  css: &#123;</div><div class="line">    loaderOptions: &#123;</div><div class="line">      <span class="comment">// ç»™ sass-loader ä¼ é€’é€‰é¡¹</span></div><div class="line">      sass: &#123;</div><div class="line">        <span class="comment">// @/ æ˜¯ src/ çš„åˆ«å</span></div><div class="line">        <span class="comment">// æ‰€ä»¥è¿™é‡Œå‡è®¾ä½ æœ‰ `src/variables.scss` è¿™ä¸ªæ–‡ä»¶</span></div><div class="line">        data: <span class="string">`@import "@/variables.scss";`</span></div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p><strong>æ³¨æ„</strong>ï¼šå¦‚æœç¬¬ä¸€ä¸ªåŠ è½½çš„ vue ç»„ä»¶ï¼Œ<code>&lt;style&gt;</code>å¤„æ²¡æœ‰å£°æ˜<code>lang=scss</code>ï¼Œç„¶åç¬¬äºŒä¸ªç»„ä»¶ä¸­å£°æ˜äº†<code>scoped</code>ä¹Ÿå£°æ˜äº†<code>lang=scss</code>ï¼Œé‚£ä¹ˆä¸Šé¢ä¼ é€’çš„å…¨å±€å˜é‡éƒ½ä¼šè¢«å‰ç¼€å¤„ç†</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šç¬¬ä¸€ä¸ªç»„ä»¶(é€šå¸¸ App.vue)style å¤„å£°æ˜<code>lang=&#39;scss&#39;</code>ä¸”ä¸èƒ½å£°æ˜<code>scoped</code></p>
<h3 id="watch-è·¯ç”±ä¸­å¤ç”¨çš„ç»„ä»¶çš„å±æ€§"><a href="#watch-è·¯ç”±ä¸­å¤ç”¨çš„ç»„ä»¶çš„å±æ€§" class="headerlink" title="watch è·¯ç”±ä¸­å¤ç”¨çš„ç»„ä»¶çš„å±æ€§"></a>watch è·¯ç”±ä¸­å¤ç”¨çš„ç»„ä»¶çš„å±æ€§</h3><p>åœ¨ä½¿ç”¨<code>vue-router</code>ä¸­ï¼Œåœ¨/page/a è·³è½¬åˆ° /page/b ä¸­ï¼Œå¦‚æœæ³¨å†Œçš„æ˜¯åŠ¨æ€è·¯ç”±ï¼Œé‚£ä¹ˆå®ƒä»¬ä½¿ç”¨çš„ä¹Ÿæ˜¯åŒä¸€ä¸ªç»„ä»¶ï¼Œä¾‹å¦‚ Page.vueã€‚ä» a é¡µé¢è·³è½¬åˆ° b é¡µé¢ï¼Œç”±äºæ˜¯åŒä¸€ä¸ªç»„ä»¶ï¼Œvue-router ä¼šå¤ç”¨è¿™ä¸ªåœ¨å†…å­˜ä¸­çš„ç»„ä»¶å®ä¾‹ï¼Œæ‰€ä»¥ç›¸å…³ç”Ÿå‘½å‘¨æœŸä¸ä¼šé‡å¤è°ƒç”¨ï¼Œæ•°æ®ä¹Ÿä¸ä¼šæ›´æ–°ï¼Œæ‰€ä»¥å¦‚æœè¦åœ¨è·³è½¬é¡µé¢åšä¸€äº›åŠ¨ä½œ(ä¾‹å¦‚ï¼šé«˜äº®èœå•ï¼Œæ•°æ®è·å–)ï¼Œå°±éœ€è¦ç”¨<code>watch</code>æ–¹æ³•ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">data() &#123;</div><div class="line">  <span class="keyword">return</span> &#123;</div><div class="line">    subNavList: []</div><div class="line">  &#125;</div><div class="line">&#125;,</div><div class="line">watch: &#123;</div><div class="line">  <span class="string">'$route'</span>: &#123;</div><div class="line">    handler: <span class="string">'getSubNavList'</span>,</div><div class="line">    immediate: <span class="literal">true</span> <span class="comment">// ä½¿ç”¨è¿™ä¸ªå°±ä¸éœ€è¦åœ¨createdé‡Œé¢è°ƒç”¨getSubNavList</span></div><div class="line">  &#125;</div><div class="line">&#125;,</div><div class="line">methods: &#123;</div><div class="line">  getSubNavList(route) &#123;</div><div class="line">    <span class="keyword">this</span>.subNavList = getSubNavList(route)</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="çˆ¶ç»„ä»¶è°ƒç”¨å­ç»„ä»¶æ–¹æ³•"><a href="#çˆ¶ç»„ä»¶è°ƒç”¨å­ç»„ä»¶æ–¹æ³•" class="headerlink" title="çˆ¶ç»„ä»¶è°ƒç”¨å­ç»„ä»¶æ–¹æ³•"></a>çˆ¶ç»„ä»¶è°ƒç”¨å­ç»„ä»¶æ–¹æ³•</h3><p>åœ¨çˆ¶ç»„ä»¶ä¸­ç”¨<code>$refs</code>æˆ–è€…<code>$children</code>æ‹¿åˆ°å¯¹åº”å­ç»„ä»¶å®ä¾‹å¯¹è±¡è¿›è¡Œè°ƒç”¨</p>
<h3 id="å…³äºæ•°ç»„å’Œå¯¹è±¡æ•°æ®æ›´æ–°è§†å›¾ä¸æ›´æ–°é—®é¢˜"><a href="#å…³äºæ•°ç»„å’Œå¯¹è±¡æ•°æ®æ›´æ–°è§†å›¾ä¸æ›´æ–°é—®é¢˜" class="headerlink" title="å…³äºæ•°ç»„å’Œå¯¹è±¡æ•°æ®æ›´æ–°è§†å›¾ä¸æ›´æ–°é—®é¢˜"></a>å…³äºæ•°ç»„å’Œå¯¹è±¡æ•°æ®æ›´æ–°è§†å›¾ä¸æ›´æ–°é—®é¢˜</h3><p>è¿™äº›éƒ½æ˜¯ js çš„é™åˆ¶ï¼Œä½¿ç”¨<code>Vue.set</code>æ–¹æ³•è§£å†³ï¼Œæˆ–è€…ä¸€äº›å˜å¼‚æ–¹æ³•</p>
<p><a href="https://cn.vuejs.org/v2/guide/list.html#%E6%95%B0%E7%BB%84%E6%9B%B4%E6%96%B0%E6%A3%80%E6%B5%8B" target="_blank" rel="external">æ•°ç»„æ›´æ–°æ–¹æ³•</a></p>
<p><a href="https://cn.vuejs.org/v2/guide/list.html#%E5%AF%B9%E8%B1%A1%E6%9B%B4%E6%94%B9%E6%A3%80%E6%B5%8B%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9" target="_blank" rel="external">å¯¹è±¡æ›´æ–°æ–¹æ³•</a></p>
<h3 id="iview-ç„ç‚¹ç»„ä»¶æ³¨æ„çš„é—®é¢˜"><a href="#iview-ç„ç‚¹ç»„ä»¶æ³¨æ„çš„é—®é¢˜" class="headerlink" title="iview ç„ç‚¹ç»„ä»¶æ³¨æ„çš„é—®é¢˜"></a>iview ç„ç‚¹ç»„ä»¶æ³¨æ„çš„é—®é¢˜</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"anchor-class "</span> <span class="attr">v-if</span>=<span class="string">"isAnchor"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">Anchor</span> <span class="attr">container</span>=<span class="string">".scrollcontent"</span> <span class="attr">show-ink</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">AnchorLink</span> <span class="attr">:href</span>=<span class="string">'"?name="+activeName+"#"+index'</span> <span class="attr">:title</span>=<span class="string">"itemData.name "</span> <span class="attr">v-for</span>=<span class="string">"(itemData,index) in selectCardList "</span> <span class="attr">:key</span>=<span class="string">"index "</span> /&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">Anchor</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>å¦‚æœç„ç‚¹ä¾èµ–çš„ dom å†…å®¹æ˜¯è¦ ajax è·å–ä¿¡æ¯è¿›è¡Œæ¸²æŸ“çš„ï¼Œé‚£ä¹ˆç›´æ¥æŒ‚è½½ç„ç‚¹ç»„ä»¶ä¼šæŠ¥é”™ï¼Œå› ä¸ºç»„ä»¶æ¸²æŸ“æ˜¯æ¯” ajax å¿«çš„ï¼Œæ•°æ®æ²¡å›æ¥ï¼Œdom èŠ‚ç‚¹æ²¡åŠ è½½ï¼Œç„ç‚¹ç»„ä»¶æ— æ³•æ‰«æéœ€è¦çš„ dom èŠ‚ç‚¹ï¼Œæ‰€ä»¥ä¼šå‡ºé—®é¢˜</p>
<p>ç”¨<code>v-if</code>+<code>nextTick</code>å³å¯è§£å†³</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">created() &#123;</div><div class="line">  <span class="keyword">this</span>.$http.get(<span class="string">"xxx"</span>).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</div><div class="line">    <span class="keyword">if</span> (res.status === <span class="number">200</span>) &#123;</div><div class="line">      <span class="keyword">this</span>.$nextTick(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">        <span class="comment">// nextTickå›è°ƒå‡½æ•°ä¸­ï¼Œscrollcontentå†…å®¹å·²ç»æ¸²æŸ“å®Œæ¯•</span></div><div class="line">        <span class="comment">// è¿™æ—¶å¯ä»¥æ¸²æŸ“iviewç„ç‚¹ç»„ä»¶äº†</span></div><div class="line">        <span class="keyword">this</span>.isAnchor = <span class="literal">true</span>;</div><div class="line">      &#125;);</div><div class="line">    &#125;</div><div class="line">  &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="å¦‚ä½•åˆ©ç”¨-mountæŒ‚è½½å®ä¾‹-ç»„ä»¶"><a href="#å¦‚ä½•åˆ©ç”¨-mountæŒ‚è½½å®ä¾‹-ç»„ä»¶" class="headerlink" title="å¦‚ä½•åˆ©ç”¨$mountæŒ‚è½½å®ä¾‹(ç»„ä»¶)"></a>å¦‚ä½•åˆ©ç”¨<code>$mount</code>æŒ‚è½½å®ä¾‹(ç»„ä»¶)</h3><p>ä»€ä¹ˆæ˜¯<code>$mount</code>?</p>
<blockquote>
<p>å¦‚æœ Vue å®ä¾‹åœ¨å®ä¾‹åŒ–æ—¶æ²¡æœ‰æ”¶åˆ° el é€‰é¡¹ï¼Œåˆ™å®ƒå¤„äºâ€œæœªæŒ‚è½½â€çŠ¶æ€ï¼Œæ²¡æœ‰å…³è”çš„ DOM å…ƒç´ ã€‚å¯ä»¥ä½¿ç”¨ vm.$mount() æ‰‹åŠ¨åœ°æŒ‚è½½ä¸€ä¸ªæœªæŒ‚è½½çš„å®ä¾‹</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"component-1"</span>&gt;</span></div><div class="line">  &#123;&#123;message&#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"component-2"</span>&gt;</span></div><div class="line">  &#123;&#123;message&#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"component-3"</span>&gt;</span></div><div class="line">  <span class="comment">&lt;!-- &#123;&#123;message&#125;&#125; --&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></div></pre></td></tr></table></figure>
<ul>
<li>æŒ‚è½½æ ¹å®ä¾‹</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// æ–¹æ³•ä¸€</span></div><div class="line"><span class="keyword">new</span> Vue(&#123;</div><div class="line">  data: &#123;</div><div class="line">    message: <span class="string">"hello vue"</span></div><div class="line">  &#125;</div><div class="line">&#125;).$mount(<span class="string">"#app"</span>);</div><div class="line"></div><div class="line"><span class="comment">// æ–¹æ³•äºŒ</span></div><div class="line"><span class="keyword">new</span> Vue(&#123;</div><div class="line">  el: <span class="string">"#app"</span>,</div><div class="line">  data: &#123;</div><div class="line">    message: <span class="string">"hello vue"</span></div><div class="line">  &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<ul>
<li>ç»„ä»¶å®ä¾‹æŒ‚è½½</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// åˆ©ç”¨extendæ„é€ ä¸€ä¸ªç»„ä»¶å®ä¾‹</span></div><div class="line"><span class="keyword">const</span> MyComponent = Vue.extend(&#123;</div><div class="line">  <span class="comment">// æ³¨æ„ï¼Œç»„ä»¶ç»å¸¸ä¼šè¢«å¤šæ¬¡å®ä¾‹</span></div><div class="line">  <span class="comment">// æ‰€ä»¥dataå¿…é¡»æ˜¯ä¸ªå‡½æ•°</span></div><div class="line">  data() &#123;</div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">      message: <span class="string">"component"</span></div><div class="line">    &#125;;</div><div class="line">  &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// æœ‰ä¸‰ç§æ–¹æ³•å¯ä»¥æŒ‚è½½</span></div><div class="line"><span class="comment">// æ–¹æ³•ä¸€</span></div><div class="line"><span class="keyword">new</span> MyComponent().$mount(<span class="string">"#component-1"</span>);</div><div class="line"></div><div class="line"><span class="comment">// æ–¹æ³•äºŒ</span></div><div class="line"><span class="keyword">new</span> MyComponent(&#123;</div><div class="line">  el: <span class="string">"#component-2"</span></div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// æ–¹æ³•ä¸‰</span></div><div class="line"><span class="keyword">const</span> c = <span class="keyword">new</span> MyComponent(&#123;</div><div class="line">  data() &#123;</div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">      message: <span class="string">"component"</span></div><div class="line">    &#125;;</div><div class="line">  &#125;,</div><div class="line">  render: <span class="function"><span class="keyword">function</span>(<span class="params">h</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> h(<span class="string">"span"</span>, <span class="keyword">this</span>.message);</div><div class="line">  &#125;</div><div class="line">&#125;).$mount();</div><div class="line"><span class="built_in">document</span>.getElementById(<span class="string">"component-3"</span>).appendChild(c.$el);</div></pre></td></tr></table></figure>
<h2 id="Vue-router"><a href="#Vue-router" class="headerlink" title="Vue-router"></a>Vue-router</h2><h3 id="beforeEach-è·¯ç”±å®ˆå«è¯¥æ³¨æ„çš„"><a href="#beforeEach-è·¯ç”±å®ˆå«è¯¥æ³¨æ„çš„" class="headerlink" title="beforeEach è·¯ç”±å®ˆå«è¯¥æ³¨æ„çš„"></a>beforeEach è·¯ç”±å®ˆå«è¯¥æ³¨æ„çš„</h3><p>ä»¥ç®€å•çš„ç™»å½•æ‹¦æˆªä¸¾ä¾‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * å¼€å¯è·¯ç”±å®ˆå«</span></div><div class="line"><span class="comment"> */</span></div><div class="line">router.beforeEach(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</div><div class="line">  <span class="comment">// cookieä¸Šå­˜äº†tokenï¼Œå¯ä»¥ä¸ç”¨ç™»å½•</span></div><div class="line">  <span class="keyword">const</span> token = getToken();</div><div class="line">  <span class="keyword">if</span> (token) &#123;</div><div class="line">    <span class="comment">// å¦‚æœè¦è·³è½¬çš„é¡µé¢æ˜¯ç™»å½•é¡µï¼Œå¼ºåˆ¶è·³è½¬åˆ°æ ¹é¡µé¢</span></div><div class="line">    <span class="keyword">if</span> (to.path === LOGIN_PAGE_PATH) &#123;</div><div class="line">      next(&#123; <span class="attr">path</span>: <span class="string">"/"</span> &#125;);</div><div class="line">    &#125;</div><div class="line">    next();</div><div class="line">  &#125; <span class="keyword">else</span> &#123;</div><div class="line">    <span class="comment">// æ²¡å­˜å°±è·³è½¬åˆ°ç™»å½•é¡µé¢</span></div><div class="line">    <span class="keyword">if</span> (to.path !== LOGIN_PAGE_PATH) &#123;</div><div class="line">      next(&#123;</div><div class="line">        path: LOGIN_PAGE_PATH</div><div class="line">      &#125;);</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// è¿™é‡Œå¦‚æœä¸åŠ next()ï¼Œä¼šè¿›å…¥æ­»å¾ªç¯</span></div><div class="line">    <span class="comment">// å› ä¸º next(&#123; path: LOGIN_PAGE_PATH &#125;)ä¹Ÿä¼šè§¦å‘ beforeEach</span></div><div class="line">    <span class="comment">// æ‰€ä»¥éœ€è¦æä¾›æœ€ç»ˆçš„next()ï¼Œæ‰èƒ½æŠŠå¯¼èˆªçš„çŠ¶æ€ç½®ä¸ºconfirmed</span></div><div class="line">    next();</div><div class="line">  &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="mailto:undefined">Rao Jinwei</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="http://shooterblog.site/2018/11/04/Vueå®è·µå°ç»“(é•¿æœŸæ›´æ–°)/">http://shooterblog.site/2018/11/04/Vueå®è·µå°ç»“(é•¿æœŸæ›´æ–°)/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank">CC BY-NC-SA 3.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="http://shooterblog.site" target="_blank">Rao Jinwei's Blog</a>ï¼</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/vue/">vue</a></div><elif theme.sharejs && theme.sharejs.enable></elif></article><nav id="pagination"><div class="next-post pull-right"><a href="/2018/09/23/Vuecli2å¼•å…¥arcgis-js-apiæ–¹æ¡ˆæ€»ç»“(éesri-loaderæ–¹æ¡ˆ)/"><span>Vuecli2å¼•å…¥Arcgis-js-apiæ–¹æ¡ˆæ€»ç»“(éesri-loaderæ–¹å‘)</span><i class="fa fa-chevron-right"></i></a></div></nav><elif theme.laibili && theme.laibili.enable></elif><elif theme.gitment && theme.gitment.enable></elif><elif theme.gitalk && theme.gitalk.enable></elif></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2017 - 2018 By Rao Jinwei</div><div class="framework-info"><span>é©±åŠ¨ - </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>ä¸»é¢˜ - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="busuanzi"><script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file-o"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="/js/third-party/anime.min.js"></script><script src="/js/third-party/jquery.min.js"></script><script src="/js/third-party/jquery.fancybox.min.js"></script><script src="/js/third-party/velocity.min.js"></script><script src="/js/third-party/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.4.2"></script><script src="/js/fancybox.js?version=1.4.2"></script><script src="/js/sidebar.js?version=1.4.2"></script><script src="/js/copy.js?version=1.4.2"></script><script src="/js/fireworks.js?version=1.4.2"></script><script src="/js/transition.js?version=1.4.2"></script><script src="/js/scroll.js?version=1.4.2"></script><script src="/js/head.js?version=1.4.2"></script></body></html>