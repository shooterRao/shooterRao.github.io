<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="手把手教你用Vscode Debugger调试代码"><meta name="keywords" content="js,node"><meta name="author" content="Rao Jinwei,undefined"><meta name="copyright" content="Rao Jinwei"><title>手把手教你用Vscode Debugger调试代码 | Rao Jinwei's Blog</title><link rel="shortcut icon" href="/sl.ico"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.min.css?version=1.4.2"><script>var GLOBAL = { 
  root: '/',
  algolia: undefined,
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  localSearch: undefined
} </script></head><body><canvas class="fireworks"></canvas><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar"><div class="toggle-sidebar-info text-center"><span data-toggle="切换文章详情">切换站点概览</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#前言"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#你想在哪调试？😏"><span class="toc-number">2.</span> <span class="toc-text">你想在哪调试？😏</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Debugger-For-Chrome"><span class="toc-number">2.1.</span> <span class="toc-text">Debugger For Chrome</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#断点调试"><span class="toc-number">2.1.1.</span> <span class="toc-text">断点调试</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#有点高级的用法-加Attach"><span class="toc-number">2.1.2.</span> <span class="toc-text">有点高级的用法(加Attach)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#调试Node-js"><span class="toc-number">2.2.</span> <span class="toc-text">调试Node.js</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#结论"><span class="toc-number">3.</span> <span class="toc-text">结论</span></a></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="https://avatars1.githubusercontent.com/u/23609695?s=400&amp;u=d2db8f6efdee5add420addf7f89b916f7ef47ca7&amp;v=4"></div><div class="author-info__name text-center">Rao Jinwei</div><div class="author-info__description text-center">追寻生活的影子</div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">文章</span><span class="pull-right">10</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">标签</span><span class="pull-right">13</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">分类</span><span class="pull-right">9</span></a></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1518117204920&amp;di=89ce95c14725040c2148d85741837e3b&amp;imgtype=0&amp;src=http%3A%2F%2Fpic1.win4000.com%2Fwallpaper%2Fd%2F53a0e80f2f925.jpg);"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">Rao Jinwei's Blog</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus"><a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a></span></div><div id="post-info"><div id="post-title">手把手教你用Vscode Debugger调试代码</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2018-05-19</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/工具/">工具</a></div></div></div><div class="layout" id="content-inner"><article id="post"><div id="post-content"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>一直觉得Vscode是前端开发最友好的IDE，里面内置的功能非常好用，无论是其拥有丰富的插件拓展，还是git的集成，都是提高效率的好帮手。Vscode还隐藏了一个据说非常强大的debugger模块，今天经过我一番尝试，发现十分有用，接下来，我就总结下如何使用Debugger模块进行代码调试。</p>
<a id="more"></a>
<h2 id="你想在哪调试？😏"><a href="#你想在哪调试？😏" class="headerlink" title="你想在哪调试？😏"></a>你想在哪调试？😏</h2><p>首先，这个标题起得确实有点那个，在哪调试？当然是在Vscode里面啊😓不过，这个“哪”，其实问的是环境。什么环境？就目前大前端来说，环境不过于分为浏览器(Chrome)和Node了。Chrome和Node虽然都能跑js，但是具体的环境是视它们版本而定的，所以，不能有我在Chrome下跑的js正常，在Node就一定正常这种说法，具体要看它们用的V8是不是同一版本的。</p>
<p>好了，不唠叨了，vscode的debugger环境是分为Chrome和Node的。接下来，我先讲讲如何在Chrome环境下，使用vscode debugger进行代码调试。</p>
<h3 id="Debugger-For-Chrome"><a href="#Debugger-For-Chrome" class="headerlink" title="Debugger For Chrome"></a>Debugger For Chrome</h3><p>Vscode里面是没有内置调试Chrome的模块的，需要单独安装。</p>
<p>第一步，先安装插件<code>Debugger For Chrome</code></p>
<p><img src="/images/20180519/1.png" alt="安装插件"></p>
<p>第二步，任意目录下创建一个名<code>debug</code>文件夹，接着在里面分别创建<code>index.html</code>，<code>index.js</code>文件.</p>
<p>第三步，配置这个插件，让它跑起来：</p>
<p>首先，先打开vscode调试区域，然后点设置</p>
<p><img src="/images/20180519/2.png" alt="步骤"></p>
<p>然后，选Chrome</p>
<p><img src="/images/20180519/3.png" alt="步骤"></p>
<p>进入了<code>launch.json</code>文件</p>
<p>把配置改成</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">  <span class="string">"version"</span>: <span class="string">"0.2.0"</span>,</span><br><span class="line">  <span class="string">"configurations"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">"type"</span>: <span class="string">"chrome"</span>,</span><br><span class="line">      <span class="string">"request"</span>: <span class="string">"launch"</span>,</span><br><span class="line">      <span class="string">"name"</span>: <span class="string">"Launch index.html"</span>,</span><br><span class="line">      <span class="string">"sourceMaps"</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="string">"file"</span>: <span class="string">"$&#123;workspaceRoot&#125;/index.html"</span></span><br><span class="line">    &#125;,</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>最后，切成<code>Launch index.html</code>，再点绿色icon或者在<code>index.html</code>目录下直接按<code>F5</code>就跑起来啦</p>
<p><img src="/images/20180519/4.png" alt="步骤"></p>
<p>快看看你的chrome是不是自动启动了！</p>
<p>如果启动了，ok，接着在<code>index.html</code>下引入<code>index.js</code>，在<code>index.js</code>里面随便写点js，然后重新启动</p>
<p><img src="/images/20180519/5.png" alt="步骤"></p>
<p>看，<code>console.log()</code>不是在vscode里面显示出来啦</p>
<p><img src="/images/20180519/6.png" alt="步骤"></p>
<h4 id="断点调试"><a href="#断点调试" class="headerlink" title="断点调试"></a>断点调试</h4><p>我们试试在vscode里面加断点，单步调试</p>
<p><img src="/images/20180519/7.png" alt="步骤"></p>
<p>OK，完全没问题，感觉是不是很方便，调试js只需要在IDE中完成，<strong>不用再切换到浏览器中了！</strong></p>
<h4 id="有点高级的用法-加Attach"><a href="#有点高级的用法-加Attach" class="headerlink" title="有点高级的用法(加Attach)"></a>有点高级的用法(加Attach)</h4><p>抛出一个问题，加Attach有什么用？</p>
<p>我在平常开发中，是结合<code>live-server</code>(vscode插件)进行开发的，<code>live-server</code>非常强大好用，它会监听你文件改动进行自动刷新浏览器，无须手动去刷新。这里<code>Attach</code>的作用就是去附加在我用<code>live-server</code>启动的开发的服务器上，去监听我那里的<code>chrome debugger</code>，通俗来讲，就是让vscode的调试控制台上可以完整得显示出<code>debugger</code>信息。</p>
<p>举个栗子吧，我用<code>live-server</code>开了个<code>http://localhost:5500</code>的服务，里面有很多<code>console.log</code>和<code>debugger</code>信息，如果我不加<code>Attach</code>，只能在chrome的<code>F12</code>调出devtools看信息和动态打断点调试。有了<code>Attach</code>，调试js时，我就不用老是盯着浏览器的devtools去看了，也不用去找文件打断点了，直接在vscode里面完成所有调试，真爽😝</p>
<p>如何配置使用？</p>
<p>首先用<code>live-server</code>打开<code>index.html</code>，你会发现浏览器自动跳转到<code>http://localhost:5500</code>上了。好，接着到<code>launch.json</code>进行配置</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"type"</span>: <span class="string">"chrome"</span>,</span><br><span class="line">    <span class="string">"request"</span>: <span class="string">"attach"</span>,</span><br><span class="line">    <span class="string">"name"</span>: <span class="string">"Attach to Chrome"</span>,</span><br><span class="line">    <span class="string">"port"</span>: <span class="number">9222</span>,</span><br><span class="line">    <span class="string">"webRoot"</span>: <span class="string">"$&#123;workspaceFolder&#125;"</span></span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">"type"</span>: <span class="string">"chrome"</span>,</span><br><span class="line">    <span class="string">"request"</span>: <span class="string">"launch"</span>,</span><br><span class="line">    <span class="string">"name"</span>: <span class="string">"启动 Chrome 并打开 localhost"</span>,</span><br><span class="line">    <span class="string">"url"</span>: <span class="string">"http://localhost:5500"</span>,</span><br><span class="line">    <span class="string">"webRoot"</span>: <span class="string">"$&#123;workspaceFolder&#125;"</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<p>配到这里，如果你直接试着直接去开启，发现是不行的，我刚开始尝试时掉进这个坑里，后来，在官方配置文档里找到了答案，需要对Chrome浏览器启动项进行配置</p>
<p><img src="/images/20180519/8.png" alt="步骤"></p>
<p>关掉你现在的chrome，在去vscode调试面板上，换成<code>Attach to Chrome</code>，在启动，就可以了~😆</p>
<p>那么，让所有关于js调试都在Vscode里面搞定吧！</p>
<h3 id="调试Node-js"><a href="#调试Node-js" class="headerlink" title="调试Node.js"></a>调试Node.js</h3><p>Vscode内置Node的调试环境，就不需要安装插件了，先创个名为<code>node.js</code>的文件，然后在<code>launch.json</code>里添加配置</p>
<p><img src="/images/20180519/9.png" alt="步骤"></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"type"</span>: <span class="string">"node"</span>,</span><br><span class="line">    <span class="string">"request"</span>: <span class="string">"launch"</span>,</span><br><span class="line">    <span class="string">"name"</span>: <span class="string">"Launch Node"</span>,</span><br><span class="line">    <span class="string">"program"</span>: <span class="string">"$&#123;workspaceFolder&#125;/node.js"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>配置完成后，在调试面板上，启动选项切换成<code>Launch Node</code>，然后启动就可以了，断点调试什么都是没问题的。</p>
<p>Tips：</p>
<blockquote>
<p>我觉得如何是学习JavaScript的话，写demo配合Vscode里的Node的调试环境是不错的选择。</p>
</blockquote>
<p>用Vscode的Debugger对用框架(react,vue,ng)编写的网页调试也是非常方便的，方法也都差不多，这里不一一举例了，有兴趣的童鞋可以自行尝试😁</p>
<h2 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h2><p>上面就是总结了，这里没啥写了，附上参考文档的链接吧</p>
<p><a href="https://github.com/Microsoft/vscode-chrome-debug" target="_blank" rel="noopener">Debugger For Chrome</a></p>
<p><a href="https://www.bilibili.com/video/av14868402/" target="_blank" rel="noopener">参考视频</a></p>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Rao Jinwei</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://shooterblog.site/2018/05/19/手把手教你用Vscode Debugger调试代码/">http://shooterblog.site/2018/05/19/手把手教你用Vscode Debugger调试代码/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank">CC BY-NC-SA 3.0</a> 许可协议。转载请注明来自 <a href="http://shooterblog.site" target="_blank">Rao Jinwei's Blog</a>！</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/js/">js</a><a class="post-meta__tags" href="/tags/node/">node</a></div><elif theme.sharejs && theme.sharejs.enable></elif></article><nav id="pagination"><div class="next-post pull-right"><a href="/2018/04/15/如何用Koa2返回文本和图片流以及解决乱码事件/"><span>如何用Koa2返回文本和图片流以及解决乱码事件</span><i class="fa fa-chevron-right"></i></a></div></nav><elif theme.laibili && theme.laibili.enable></elif><elif theme.gitment && theme.gitment.enable></elif><elif theme.gitalk && theme.gitalk.enable></elif></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2017 - 2018 By Rao Jinwei</div><div class="framework-info"><span>驱动 - </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="/js/third-party/anime.min.js"></script><script src="/js/third-party/jquery.min.js"></script><script src="/js/third-party/jquery.fancybox.min.js"></script><script src="/js/third-party/velocity.min.js"></script><script src="/js/third-party/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.4.2"></script><script src="/js/fancybox.js?version=1.4.2"></script><script src="/js/sidebar.js?version=1.4.2"></script><script src="/js/copy.js?version=1.4.2"></script><script src="/js/fireworks.js?version=1.4.2"></script><script src="/js/transition.js?version=1.4.2"></script><script src="/js/scroll.js?version=1.4.2"></script><script src="/js/head.js?version=1.4.2"></script></body></html>